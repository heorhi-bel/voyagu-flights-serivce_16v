"use strict";(self.webpackChunkvoyagu_flights_serivce_16v=self.webpackChunkvoyagu_flights_serivce_16v||[]).push([[472],{8472:(st,u,c)=>{c.r(u),c.d(u,{FlightsModule:()=>at});var p=c(177),f=c(303),C=c(8359),t=c(4437),l=c(4341),b=c(1413);const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class M extends b.B{constructor(a=1/0,e=1/0,o=m){super(),this._bufferSize=a,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,a),this._windowTime=Math.max(1,e)}next(a){const{isStopped:e,_buffer:o,_infiniteTimeWindow:n,_timestampProvider:r,_windowTime:s}=this;e||(o.push(a),!n&&o.push(r.now()+s)),this._trimBuffer(),super.next(a)}_subscribe(a){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(a),{_infiniteTimeWindow:o,_buffer:n}=this,r=n.slice();for(let s=0;s<r.length&&!a.closed;s+=o?1:2)a.next(r[s]);return this._checkFinalizedStatuses(a),e}_trimBuffer(){const{_bufferSize:a,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:n}=this,r=(n?1:2)*a;if(a<1/0&&r<o.length&&o.splice(0,o.length-r),!n){const s=e.now();let g=0;for(let d=1;d<o.length&&o[d]<=s;d+=2)g=d;g&&o.splice(0,g+1)}}}var v=c(7647),P=c(1626);let h=(()=>{class i{constructor(e,o){this.http=e,this.fb=o,this.url="https://public-front-bucket.s3.eu-central-1.amazonaws.com/test/test_flights.json",this.flightsCache$=null}createForm(e){return this.fb.group({id:this.fb.control(e,l.k0.required),firstName:this.fb.control(null,l.k0.required),lastName:this.fb.control(null,l.k0.required),gender:this.fb.control(null,l.k0.required),monthBirth:this.fb.control(null,l.k0.required),dayBirth:this.fb.control(null,l.k0.required),yearBirth:this.fb.control(null,l.k0.required),birthDate:this.fb.control(null,l.k0.required),citizenship:this.fb.control(null,l.k0.required)})}getFlights(){return this.flightsCache$?this.flightsCache$:this.http.get(`${this.url}`).pipe(function O(i,a,e){let o,n=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:a=1/0,refCount:n=!1,scheduler:e}=i):o=i??1/0,(0,v.u)({connector:()=>new M(o,a,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:n})}(1))}getStopsLabel(e){switch(e){case-1:return"All stops";case 1:return"1 stop";default:return`${e} stops`}}static{this.\u0275fac=function(o){return new(o||i)(t.KVO(P.Qq),t.KVO(l.ok))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var F=c(7515),y=c(5430),w=c(6756),x=c(9266),_=c(9883);let k=(()=>{class i{constructor(e){this.router=e}getDateObject(e){return new Date(`1970-01-01T${e}`)}formatDuration(e){const o=Math.floor(e/60),n=e%60;return o>0&&n>0?`${o}h ${n}m`:o>0?`${o}h`:`${n}m`}stopsLabel(e){return 0===e?"Nonstop":`${e} stop`}book(e){this.router.navigate([`/flights/${e.id}`],{queryParams:{price:e.price}})}getPriceFormat(e){return(+e).toFixed(2)}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(f.Ix))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-card"]],inputs:{data:"data"},decls:70,vars:43,consts:[[1,"flight-card"],[1,"flight-segments"],[1,"flight-segment"],[1,"airline-logo",3,"src"],[1,"segment-info"],[1,"time-group"],[1,"time"],[1,"location-group"],[1,"airport-code"],[1,"separator-dot"],[1,"flight-date","departure"],[1,"flight-date","arrival"],[1,"duration-group"],[1,"flight-type"],[1,"flight-date"],[1,"booking-actions"],[1,"price-container"],[1,"price-amount"],[1,"price-label"],[1,"book-button",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"img",3),t.j41(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",7)(10,"div",8),t.EFF(11),t.k0s(),t.nrm(12,"div",9),t.j41(13,"div",10),t.EFF(14),t.nI1(15,"date"),t.k0s()()(),t.j41(16,"div",5)(17,"div",6),t.EFF(18),t.nI1(19,"date"),t.k0s(),t.j41(20,"div",7)(21,"div",8),t.EFF(22),t.k0s(),t.nrm(23,"div",9),t.j41(24,"div",11),t.EFF(25),t.nI1(26,"date"),t.k0s()()(),t.j41(27,"div",12)(28,"div",6),t.EFF(29),t.k0s(),t.j41(30,"div",13),t.EFF(31),t.k0s()()()(),t.j41(32,"div",2),t.nrm(33,"img",3),t.j41(34,"div",4)(35,"div",5)(36,"div",6),t.EFF(37),t.nI1(38,"date"),t.k0s(),t.j41(39,"div",7)(40,"div",8),t.EFF(41),t.k0s(),t.nrm(42,"div",9),t.j41(43,"div",14),t.EFF(44),t.nI1(45,"date"),t.k0s()()(),t.j41(46,"div",5)(47,"div",6),t.EFF(48),t.nI1(49,"date"),t.k0s(),t.j41(50,"div",7)(51,"div",8),t.EFF(52),t.k0s(),t.nrm(53,"div",9),t.j41(54,"div",14),t.EFF(55),t.nI1(56,"date"),t.k0s()()(),t.j41(57,"div",12)(58,"div",6),t.EFF(59),t.k0s(),t.j41(60,"div",13),t.EFF(61),t.k0s()()()()(),t.j41(62,"div",15)(63,"div",16)(64,"div",17),t.EFF(65),t.k0s(),t.j41(66,"div",18),t.EFF(67,"Per adult"),t.k0s()(),t.j41(68,"button",19),t.bIt("click",function(){return n.book(n.data)}),t.EFF(69,"Book"),t.k0s()()()),2&o&&(t.R7$(3),t.Mz_("src","https://d263qmvlt29h99.cloudfront.net/",null==n.data?null:n.data.flights[0].airline,".svg",t.B4B),t.R7$(4),t.JRh(t.i5U(8,19,n.getDateObject(null==n.data?null:n.data.flights[0].departure_time),"hh:mma")),t.R7$(4),t.JRh(n.data.flights[0].departure_airport),t.R7$(3),t.JRh(t.i5U(15,22,n.data.flights[0].departure_date,"MMM d")),t.R7$(4),t.JRh(t.i5U(19,25,n.getDateObject(null==n.data?null:n.data.flights[0].arrival_time),"hh:mma")),t.R7$(4),t.JRh(n.data.flights[0].arrival_airport),t.R7$(3),t.JRh(t.i5U(26,28,null==n.data?null:n.data.flights[0].arrival_date,"MMM d")),t.R7$(4),t.JRh(n.formatDuration(null==n.data?null:n.data.flights[0].duration_minutes)),t.R7$(2),t.JRh(n.stopsLabel(null==n.data?null:n.data.flights[0].stops)),t.R7$(2),t.Mz_("src","https://d263qmvlt29h99.cloudfront.net/",null==n.data?null:n.data.flights[1].airline,".svg",t.B4B),t.R7$(4),t.JRh(t.i5U(38,31,n.getDateObject(null==n.data?null:n.data.flights[1].departure_time),"hh:mma")),t.R7$(4),t.JRh(null==n.data?null:n.data.flights[1].departure_airport),t.R7$(3),t.JRh(t.i5U(45,34,null==n.data?null:n.data.flights[1].departure_date,"MMM d")),t.R7$(4),t.JRh(t.i5U(49,37,n.getDateObject(null==n.data?null:n.data.flights[1].arrival_time),"hh:mma")),t.R7$(4),t.JRh(null==n.data?null:n.data.flights[1].arrival_airport),t.R7$(3),t.JRh(t.i5U(56,40,null==n.data?null:n.data.flights[1].arrival_date,"MMM d")),t.R7$(4),t.JRh(n.formatDuration(null==n.data?null:n.data.flights[1].duration_minutes)),t.R7$(2),t.JRh(n.stopsLabel(null==n.data?null:n.data.flights[1].stops)),t.R7$(4),t.SpI("$",n.getPriceFormat(null==n.data?null:n.data.price),""))},dependencies:[p.vh],styles:["[_nghost-%COMP%]{display:contents}.flight-card[_ngcontent-%COMP%]{margin:0 0 24px;border-radius:12px;background-color:#fff;border:1px solid rgb(226,224,227);display:flex;justify-content:start;flex-flow:row nowrap;align-items:stretch;font-family:Inter,-apple-system,Roboto,Helvetica,sans-serif}.flight-card[_ngcontent-%COMP%]   .flight-segments[_ngcontent-%COMP%]{align-self:start;min-width:240px;padding:24px;font-size:14px;font-weight:400}.flight-card[_ngcontent-%COMP%]   .flight-segment[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;gap:16px;justify-content:start}.flight-card[_ngcontent-%COMP%]   .flight-segment[_ngcontent-%COMP%]:not(:first-child){margin-top:32px}.flight-card[_ngcontent-%COMP%]   .booking-actions[_ngcontent-%COMP%]{border-left:1px solid rgb(226,224,227);display:flex;padding:16px 24px;flex-direction:column;overflow:hidden;align-items:stretch;justify-content:end;width:210px}.airline-logo[_ngcontent-%COMP%]{object-fit:contain;object-position:center;width:40px;height:40px;align-self:stretch;margin:auto 0}.segment-info[_ngcontent-%COMP%]{align-self:stretch;display:flex;min-width:240px;margin:auto 0;align-items:start;gap:36px;overflow:hidden;justify-content:start;flex:1;flex-shrink:1;flex-basis:0%}.time-group[_ngcontent-%COMP%]{overflow:hidden;width:90px}.time[_ngcontent-%COMP%]{color:#0a1d3d}.location-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;overflow:hidden;color:#898390;justify-content:start}.airport-code[_ngcontent-%COMP%]{align-self:stretch;margin:auto 0}.separator-dot[_ngcontent-%COMP%]{border-radius:100px;background-color:#e2e0e3;align-self:stretch;display:flex;margin:auto 0;width:4px;flex-shrink:0;height:4px}.flight-date[_ngcontent-%COMP%]{align-self:stretch;margin:auto 0}.duration-group[_ngcontent-%COMP%]{overflow:hidden}.flight-type[_ngcontent-%COMP%]{color:#898390}.price-container[_ngcontent-%COMP%]{align-self:center;display:flex;flex-direction:column;overflow:hidden;align-items:center;justify-content:start}.price-amount[_ngcontent-%COMP%]{color:#0a1d3d;font-size:20px;font-weight:600;line-height:1.6}.price-label[_ngcontent-%COMP%]{color:#898390;font-size:14px;font-weight:400;line-height:1}.book-button[_ngcontent-%COMP%]{border:none;cursor:pointer;align-self:stretch;border-radius:8px;background-color:#0a1d3d;margin-top:24px;width:100%;padding:12px 24px;overflow:hidden;font-size:14px;color:#fff;font-weight:500;white-space:nowrap;line-height:1}"]})}}return i})();function j(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",10)(1,"p-checkbox",11),t.bIt("ngModelChange",function(n){t.eBV(e);const r=t.XpG();return t.Njj(r.selectedStops=n)})("onChange",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.applyFiltersAndSort())}),t.k0s(),t.j41(2,"label",12),t.EFF(3),t.k0s()()}if(2&i){const e=a.$implicit,o=t.XpG();t.R7$(1),t.Y8G("value",e)("ngModel",o.selectedStops)("inputId","stop"+e),t.R7$(1),t.Y8G("for","stop"+e),t.R7$(1),t.SpI(" ",o.service.getStopsLabel(e)," ")}}function R(i,a){if(1&i&&(t.qex(0),t.nrm(1,"app-card",16),t.bVm()),2&i){const e=a.$implicit;t.R7$(1),t.Y8G("data",e)}}function $(i,a){if(1&i){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.showMore())}),t.EFF(1," Show more "),t.k0s()}}function S(i,a){if(1&i&&(t.qex(0),t.j41(1,"div",13),t.DNE(2,R,2,1,"ng-container",14),t.DNE(3,$,2,0,"button",15),t.k0s(),t.bVm()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.displayedFlights),t.R7$(1),t.Y8G("ngIf",e.displayedFlights.length<e.filteredFlights.length)}}const E=function(){return{width:"50px",height:"50px"}};function I(i,a){1&i&&(t.j41(0,"div",18),t.nrm(1,"p-progressSpinner"),t.j41(2,"div"),t.EFF(3,"Loading flights..."),t.k0s()()),2&i&&(t.R7$(1),t.Aen(t.lJ4(2,E)))}const D=function(){return{field:"price",order:1}},T=function(i){return{label:"Price (Low to High)",value:i}},B=function(i){return{field:"price",order:i}},A=function(i){return{label:"Price (High to Low)",value:i}},G=function(){return{field:"departure",order:1}},J=function(i){return{label:"Departure (Earliest)",value:i}},N=function(i){return{field:"departure",order:i}},Y=function(i){return{label:"Departure (Latest)",value:i}},z=function(){return{field:"duration",order:1}},U=function(i){return{label:"Duration (Shortest)",value:i}},q=function(i){return{field:"duration",order:i}},V=function(i){return{label:"Duration (Longest)",value:i}},L=function(i,a,e,o,n,r){return[i,a,e,o,n,r]};let X=(()=>{class i{constructor(e,o){this.service=e,this.router=o,this.flights=[],this.filteredFlights=[],this.displayedFlights=[],this.airlines=[],this.selectedAirlines=[],this.airports=[],this.selectedAirports=[],this.priceRange=[0,1e4],this.minPrice=0,this.maxPrice=1e4,this.availableStops=[],this.selectedStops=[],this.pageSize=5,this.currentPage=0,this.sortField="price",this.sortOrder=1,this.loading=!1,this.sub$=new C.yU}ngOnInit(){this.loadFlights()}ngOnDestroy(){this.sub$.unsubscribe()}loadFlights(){this.sub$=this.service.getFlights().subscribe({next:e=>{this.flights=e,this.filteredFlights=[...this.flights],this.availableStops=[-1,...this.extractUniqueStops(this.flights)];const o=new Set,n=new Set;this.flights.forEach(r=>{r.flights.forEach(s=>{o.add(s.airline),n.add(s.departure_airport),n.add(s.arrival_airport)})}),this.airlines=Array.from(o),this.airports=Array.from(n),this.minPrice=Math.min(...this.flights.map(r=>r.price)),this.maxPrice=Math.max(...this.flights.map(r=>r.price)),this.priceRange=[this.minPrice,this.maxPrice],this.applyFiltersAndSort()},error:e=>{console.error("Error loading flights:",e)},complete:()=>{this.loading=!1}})}applyFiltersAndSort(){let e=this.flights;this.selectedAirlines.length>0&&(e=e.filter(o=>o.flights.some(n=>this.selectedAirlines.includes(n.airline)))),this.selectedAirports.length>0&&(e=e.filter(o=>o.flights.some(n=>this.selectedAirports.includes(n.departure_airport)||this.selectedAirports.includes(n.arrival_airport)))),e=e.filter(o=>!(o.price<this.priceRange[0]||o.price>this.priceRange[1]||this.selectedStops.length>0&&!o.flights.some(r=>!!this.selectedStops.includes(-1)||this.selectedStops.includes(r.stops)))),e.sort((o,n)=>{if("price"===this.sortField)return(o.price-n.price)*this.sortOrder;if("departure"===this.sortField){const r=this.getFullDate(o.flights[0].departure_date,o.flights[0].departure_time),s=this.getFullDate(n.flights[0].departure_date,n.flights[0].departure_time);return(r.getTime()-s.getTime())*this.sortOrder}return"duration"===this.sortField?(o.flights.reduce((g,d)=>+g+ +d.duration_minutes,0)-n.flights.reduce((g,d)=>+g+ +d.duration_minutes,0))*this.sortOrder:0}),this.filteredFlights=e,this.updateDisplayedFlights()}extractUniqueStops(e){const o=new Set;return e.forEach(n=>{n.flights.forEach(r=>{o.add(r.stops)})}),Array.from(o).sort((n,r)=>n-r)}updateDisplayedFlights(){this.displayedFlights=this.filteredFlights.slice(0,this.currentPage*this.pageSize+this.pageSize)}showMore(){this.currentPage++,this.updateDisplayedFlights()}onSortChange(e){const{field:o,order:n}=e.value;this.sortField=o,this.sortOrder=n,this.applyFiltersAndSort()}getFullDate(e,o){return new Date(`${e}T${o}`)}formatDuration(e){return`${Math.floor(e/60)}h ${e%60}m`}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(h),t.rXU(f.Ix))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-flights"]],decls:32,vars:49,consts:[[1,"flights-content"],[1,"filters"],[1,"p-field"],["placeholder","Select Sort Option",3,"options","onChange"],[1,"p-d-flex","p-jc-between","mb-custom"],["styleClass","w-full",3,"ngModel","range","min","max","ngModelChange","onSlideEnd"],["class","p-field-checkbox",4,"ngFor","ngForOf"],[3,"options","ngModel","multiple","ngModelChange","onChange"],[4,"ngIf"],["class","p-text-center",4,"ngIf"],[1,"p-field-checkbox"],[3,"value","ngModel","inputId","ngModelChange","onChange"],[3,"for"],[1,"flights-list"],[4,"ngFor","ngForOf"],["class","show-more-button",3,"click",4,"ngIf"],[3,"data"],[1,"show-more-button",3,"click"],[1,"p-text-center"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t.EFF(4,"Sort By"),t.k0s(),t.j41(5,"p-dropdown",3),t.bIt("onChange",function(s){return n.onSortChange(s)}),t.k0s()(),t.j41(6,"div",2)(7,"h3"),t.EFF(8,"Price Range"),t.k0s(),t.j41(9,"div",4)(10,"span"),t.EFF(11),t.nI1(12,"currency"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.nI1(15,"currency"),t.k0s()(),t.j41(16,"p-slider",5),t.bIt("ngModelChange",function(s){return n.priceRange=s})("onSlideEnd",function(){return n.applyFiltersAndSort()}),t.k0s()(),t.j41(17,"div",2)(18,"h3"),t.EFF(19,"Stops"),t.k0s(),t.DNE(20,j,4,5,"div",6),t.k0s(),t.j41(21,"div",2)(22,"h3"),t.EFF(23,"Airlines"),t.k0s(),t.EFF(24),t.j41(25,"p-listbox",7),t.bIt("ngModelChange",function(s){return n.selectedAirlines=s})("onChange",function(){return n.applyFiltersAndSort()}),t.k0s()(),t.j41(26,"div",2)(27,"h3"),t.EFF(28,"Airports"),t.k0s(),t.j41(29,"p-listbox",7),t.bIt("ngModelChange",function(s){return n.selectedAirports=s})("onChange",function(){return n.applyFiltersAndSort()}),t.k0s()()(),t.DNE(30,S,4,2,"ng-container",8),t.DNE(31,I,4,3,"div",9),t.k0s()),2&o&&(t.R7$(5),t.Y8G("options",t.l4e(42,L,t.eq3(22,T,t.lJ4(21,D)),t.eq3(26,A,t.eq3(24,B,-1)),t.eq3(29,J,t.lJ4(28,G)),t.eq3(33,Y,t.eq3(31,N,-1)),t.eq3(36,U,t.lJ4(35,z)),t.eq3(40,V,t.eq3(38,q,-1)))),t.R7$(6),t.JRh(t.bMT(12,17,n.priceRange[0])),t.R7$(3),t.JRh(t.bMT(15,19,n.priceRange[1])),t.R7$(2),t.Y8G("ngModel",n.priceRange)("range",!0)("min",n.minPrice)("max",n.maxPrice),t.R7$(4),t.Y8G("ngForOf",n.availableStops),t.R7$(4),t.SpI(" ",n.selectedAirlines," "),t.R7$(1),t.Y8G("options",n.airlines)("ngModel",n.selectedAirlines)("multiple",!0),t.R7$(4),t.Y8G("options",n.airports)("ngModel",n.selectedAirports)("multiple",!0),t.R7$(1),t.Y8G("ngIf",!n.loading),t.R7$(1),t.Y8G("ngIf",n.loading))},dependencies:[p.Sq,p.bT,l.BC,l.vS,F.p,y.Sc,w.WF,x.Ap,_.ms,k,p.oe],styles:[".flights-content[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:center;align-items:flex-start;gap:16px;width:100%;padding:32px 5rem 0 0}.filters[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:flex-start;align-items:flex-start;min-width:240px;max-width:260px;padding:16px;height:auto;background:rgb(255,255,255);border:1px solid rgb(226,224,227);border-radius:12px}.filters[_ngcontent-%COMP%]   .p-field[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]   .p-field[_ngcontent-%COMP%]   .p-field-checkbox[_ngcontent-%COMP%]{margin:8px}.flights-list[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:flex-start;align-items:flex-start;min-width:624px;max-width:660px;height:-moz-fit-content;height:fit-content}.flights-list[_ngcontent-%COMP%]     .flight-card:last-child{box-shadow:0 2px 12px #e2e0e3}.show-more-button[_ngcontent-%COMP%]{width:100%;padding:12px 24px;gap:8px;border-radius:8px;border:1px solid #e2e0e3;color:#0a1d3d;font-family:Inter,sans-serif;font-size:14px;font-weight:500;line-height:20px;cursor:pointer;transition:all .2s ease-in-out;background-color:#fff;display:inline-block}.show-more-button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.show-more-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #0a1d3d33}.mb-custom[_ngcontent-%COMP%]{margin:0 0 7px}"]})}}return i})();const W=[{label:"Male",value:"male"},{label:"Female",value:"female"}],K=[{label:"Jan - 01",value:1},{label:"Feb - 02",value:2},{label:"Mar - 03",value:3},{label:"Apr - 04",value:4},{label:"May - 05",value:5},{label:"June - 06",value:6},{label:"July - 07",value:7},{label:"Aug - 08",value:8},{label:"Sep - 09",value:9},{label:"Oct - 10",value:10},{label:"Nov - 11",value:11},{label:"Dec - 12",value:12}],H=Array.from({length:31},(i,a)=>({label:(a+1).toString(),value:a+1})),Q=Array.from({length:100},(i,a)=>({label:((new Date).getFullYear()-a).toString(),value:(new Date).getFullYear()-a})),Z=[{label:"United States",value:"US"},{label:"Belarus",value:"BL"},{label:"Canada",value:"CA"},{label:"United Kingdom",value:"UK"},{label:"Australia",value:"AU"},{label:"Germany",value:"DE"},{label:"France",value:"FR"},{label:"Japan",value:"JP"},{label:"China",value:"CN"},{label:"India",value:"IN"},{label:"Brazil",value:"BR"}];var tt=c(494);function nt(i,a){if(1&i&&(t.j41(0,"div",37),t.nrm(1,"p-radioButton",38),t.j41(2,"label",39),t.EFF(3),t.k0s()()),2&i){const e=a.$implicit;t.R7$(1),t.Y8G("inputId","gender_"+e.value)("value",e.value),t.R7$(1),t.Y8G("for","gender_"+e.value),t.R7$(1),t.JRh(e.label)}}const et=function(i){return{submitted:i}},ot=[{path:"",component:X},{path:":id",data:{type:"type",more_data:"..."},component:(()=>{class i{constructor(e,o,n){this.service=e,this.router=o,this.route=n,this.genderOptions=W,this.monthOptions=K,this.dayOptions=H,this.citizenshipOptions=Z,this.yearOptions=Q,this.form=this.service.createForm(this.route.snapshot.params.id),this.submitted=!1}ngOnInit(){this.route.snapshot.params.id?((new Date).getFullYear(),this.form.patchValue(JSON.parse(sessionStorage.getItem("form")))):this.router.navigate(["/flights"])}onSubmit(){const e=this.form.getRawValue(),o=new Date(`${e.yearBirth}-${e.monthBirth}-${e.dayBirth}`);this.submitted=!0,this.form.controls.birthDate.patchValue(o),this.form.valid?(sessionStorage.setItem("form",JSON.stringify(this.form.value)),console.log("Booking submitted:",{flightId:this.form.controls.id.value,form:e}),alert(`Booking submitted successfully!\nFlight ID: ${e.id}\nPassenger: ${e.firstName} ${e.lastName}`)):this.form.markAllAsTouched()}onBack(){this.form.dirty&&sessionStorage.setItem("form",JSON.stringify(this.form.value)),this.router.navigate(this.route.snapshot.url)}getPriceFormat(e){return(+e).toFixed(2)}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(h),t.rXU(f.Ix),t.rXU(f.nX))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-flight-book"]],decls:61,vars:11,consts:[[1,"content"],[1,"form-section"],[1,"section-title"],[1,"form-container"],[1,"traveler-form",3,"formGroup","ngClass"],[1,"traveler-title"],[1,"form-field"],[1,"form-label"],["formControlName","firstName",1,"form-input"],["formControlName","lastName",1,"form-input"],[1,"radio-group"],[1,"radio-buttons"],["class","radio-button",4,"ngFor","ngForOf"],[1,"date-group"],[1,"dropdown-container"],[1,"dropdown-label"],["formControlName","monthBirth","placeholder","Month",1,"dropdown-field",3,"options"],["formControlName","dayBirth","placeholder","Day",1,"dropdown-field",3,"options"],["formControlName","yearBirth","placeholder","Year",1,"dropdown-field",3,"options"],[1,"dropdown-container","citizenship-dropdown"],["formControlName","citizenship","placeholder","Select Country",1,"dropdown-field",3,"options"],[1,"action-buttons"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"summary-container"],[1,"summary-title"],[1,"summary-content"],[1,"flight-price"],[1,"price-label"],[1,"icon-wrapper"],["src","https://cdn.builder.io/api/v1/image/assets/TEMP/fcbcbdc28f74633d919c7ce7f3863a396b3e7d5159037d94ff47f4fc844aa084?placeholderIfAbsent=true&apiKey=0c853ebb838e4725aff326ea2ef7a109","alt","flight icon",1,"icon"],[1,"label-text"],[1,"price-amount"],[1,"total-price"],[1,"total-label"],[1,"total-amount"],[1,"amount-large"],[1,"radio-button"],["name","gender","formControlName","gender",1,"radio-circle",3,"inputId","value"],[1,"radio-text",3,"for"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"section",1)(2,"h1",2),t.EFF(3,"Travelers"),t.k0s(),t.j41(4,"div",3)(5,"form",4)(6,"h2",5),t.EFF(7,"Traveler 1: Adult"),t.k0s(),t.j41(8,"div",6)(9,"label",7),t.EFF(10,"First name"),t.k0s(),t.nrm(11,"input",8),t.k0s(),t.j41(12,"div",6)(13,"label",7),t.EFF(14,"Last name"),t.k0s(),t.nrm(15,"input",9),t.k0s(),t.j41(16,"div",10)(17,"label",7),t.EFF(18,"Gender"),t.k0s(),t.j41(19,"div",11),t.DNE(20,nt,4,4,"div",12),t.k0s()(),t.j41(21,"div",13)(22,"div",14)(23,"label",15),t.EFF(24,"Month of birth"),t.k0s(),t.nrm(25,"p-dropdown",16),t.k0s(),t.j41(26,"div",14)(27,"label",15),t.EFF(28,"Day of birth"),t.k0s(),t.nrm(29,"p-dropdown",17),t.k0s(),t.j41(30,"div",14)(31,"label",15),t.EFF(32,"Year of birth"),t.k0s(),t.nrm(33,"p-dropdown",18),t.k0s()(),t.j41(34,"div",19)(35,"label",15),t.EFF(36,"Citizenship"),t.k0s(),t.nrm(37,"p-dropdown",20),t.k0s()(),t.j41(38,"div",21)(39,"button",22),t.bIt("click",function(){return n.onBack()}),t.EFF(40,"Back"),t.k0s(),t.j41(41,"button",23),t.bIt("click",function(){return n.onSubmit()}),t.EFF(42,"Confirm"),t.k0s()()()(),t.j41(43,"section",24)(44,"h2",25),t.EFF(45,"Price summary"),t.k0s(),t.j41(46,"div",26)(47,"div",27)(48,"div",28)(49,"div",29),t.nrm(50,"img",30),t.k0s(),t.j41(51,"span",31),t.EFF(52,"Flight"),t.k0s()(),t.j41(53,"span",32),t.EFF(54),t.k0s()(),t.j41(55,"div",33)(56,"span",34),t.EFF(57,"Total"),t.k0s(),t.j41(58,"div",35)(59,"span",36),t.EFF(60),t.k0s()()()()()()),2&o&&(t.R7$(5),t.Y8G("formGroup",n.form)("ngClass",t.eq3(9,et,n.submitted)),t.R7$(15),t.Y8G("ngForOf",n.genderOptions),t.R7$(5),t.Y8G("options",n.monthOptions),t.R7$(4),t.Y8G("options",n.dayOptions),t.R7$(4),t.Y8G("options",n.yearOptions),t.R7$(4),t.Y8G("options",n.citizenshipOptions),t.R7$(17),t.SpI("$",n.getPriceFormat(n.route.snapshot.queryParams.price),""),t.R7$(6),t.SpI("$",n.getPriceFormat(n.route.snapshot.queryParams.price),""))},dependencies:[p.YU,p.Sq,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,tt.a,_.ms],styles:[".content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-field[_ngcontent-%COMP%]     .p-dropdown input{border-radius:8px;border:1px solid rgb(226,224,227);width:100%;margin:4px 0 0;padding:12px;color:#0a1d3d}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{color:#898390;display:block}*[_ngcontent-%COMP%]{font-family:Inter}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-wrap:row nowrap;gap:16px;padding:32px 0}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{min-width:240px;max-width:624px;padding:0;flex:1}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{margin-top:12px;width:100%}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgb(226,224,227);border-radius:12px;padding:16px}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .date-group[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{margin:16px 16px 0 0;width:100%}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .date-group[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .radio-buttons[_ngcontent-%COMP%]{margin:4px 0 0;display:flex;gap:16px;flex-wrap:wrap}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .radio-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#0a1d3d}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .radio-circle[_ngcontent-%COMP%]{border-radius:50%;width:20px;height:20px;border:1px solid rgb(226,224,227);background-color:#fff}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .radio-circle.radio-selected[_ngcontent-%COMP%]{border-color:#2f7bea}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .radio-text[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{font-size:14px}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-field[_ngcontent-%COMP%]     .p-dropdown{width:100%}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-field[_ngcontent-%COMP%]     .p-dropdown:hover{background-color:#f1f1f1;border-color:#f1f1f1}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-field[_ngcontent-%COMP%]     .p-dropdown input{display:flex;justify-content:space-between;align-items:center}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-disabled[_ngcontent-%COMP%]{background-color:#f1f1f1}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:20px;min-height:20px;padding:7px 5px}.content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .traveler-form[_ngcontent-%COMP%]   .form-input.form-input-error[_ngcontent-%COMP%]{background-color:#fdeeee;border-color:#e52e2e}.section-title[_ngcontent-%COMP%], .summary-title[_ngcontent-%COMP%]{color:#0a1d3d;font-size:20px;font-weight:600;line-height:1.6;margin:0}.traveler-title[_ngcontent-%COMP%], .price-label[_ngcontent-%COMP%], .total-label[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:8px;font-size:14px;font-weight:600;color:#0a1d3d}.icon-image[_ngcontent-%COMP%]{width:9px;aspect-ratio:1.33;object-fit:contain}.action-buttons[_ngcontent-%COMP%]{display:flex;margin-top:24px;gap:16px;justify-content:space-between;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{border-radius:8px;padding:12px 24px;font-size:14px;font-weight:500;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgb(226,224,227);color:#0a1d3d}.btn-primary[_ngcontent-%COMP%]{background-color:#0a1d3d;border:none;color:#fff}.summary-container[_ngcontent-%COMP%]{width:240px}.summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgb(226,224,227);margin-top:12px;padding:16px;border-radius:12px}.summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .flight-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:16px;border-bottom:1px solid rgb(226,224,227)}.summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:14px}.summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;margin-top:16px;align-items:flex-end}.summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:32px;line-height:32px;letter-spacing:0px}  form.submitted .ng-touched.ng-invalid{background-color:#fdeeee;border-width:1px!important}  form.submitted .ng-touched.ng-invalid .p-radiobutton-box{border:1px solid rgb(229,46,46)!important}  form.submitted .ng-touched.ng-invalid .p-dropdown{border-color:#e52e2e!important;border-width:1px;background-color:#fdeeee}"]})}}return i})()},{path:"**",redirectTo:"/flights"}];let it=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(ot),f.iI]})}}return i})();var rt=c(1665);let at=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({providers:[h],imports:[rt.G,p.MD,it]})}}return i})()}}]);